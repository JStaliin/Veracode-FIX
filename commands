# -- TO RUN ALL COMANDS IT'S NECCESARY TO BE ON 'source' FOLDER

# -- Compile
javac -g source/SQLvulnerability.java

# -- Run SAST (Pipeline Scan) - This command uses Veracode CLI option for Pipeline Scan
../../veracode sast source/SQLvulnerability.class --emit-stack-dump --out results.json --prettyprint

# -- Run fix
../../veracode fix source/SQLvulnerability.java

# -- Recompile

javac source/SQLvulnerability.java

# -- Run SAST on new class file

veracode sast source/SQLvulnerability.class --emit-stack-dump --out results.json

# -- Reset the demo (restore the source file)

cp source/SQLvulnerability.java.backup source/SQLvulnerability.java

